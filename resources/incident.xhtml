<!DOCTYPE html>
<html lang="en" xmlns:t="http://twistedmatrix.com/ns/twisted.web.template/0.1">
  <head>
    <title t:render="title" />
    <link t:render="icon" />
    <link t:render="stylesheet" />
    <style>
      #incident_edit {
        border: 1px solid #c6c9cc;
        border-radius: 1em;
        padding: 1em;
      }

      #incident_number, #incident_state, #incident_priority { width: 33%; }

      #incident_summary_form { text-align: center; }

      #incident_number   { text-align: left  ; }
      #incident_state    { text-align: center; }
      #incident_priority { text-align: right ; }

      #incident_number {}
      #incident_state {}
      #incident_priority {}

      #incident_summary input { display: inline-block; }

      #incident_rangers_form { text-align: center; }
      #incident_rangers_form label        { width:  49%; }
      #incident_rangers_form label select { width: 100%; }

      #incident_types_form { text-align: center; }
      #incident_types_form label        { width:  49%; }
      #incident_types_form label select { width: 100%; }

      #incident_report_text { border: 1px solid #c6c9cc; }

      #incident_report_input {
        border: 1px solid #c6c9cc;
        width: 100%;
        margin-top: 0.5em;
        resize: vertical;
        autofocus: true;
      }

      .incident_entry_user, .incident_entry_system { margin-bottom: 1.5em; }
      .incident_entry_system { text-align: center; font-size: 80%; color: gray; }
      .incident_entry_timestamp { font-weight: bold; }
    </style>
  </head>
  <body>
    <div id="incident_edit">

      <form id="incident_number_form">
        <label id="incident_number">
          Incident #: <span t:render="number" />
        </label>
      </form>

      <form id="incident_state_form">
        <label id="incident_state">
          <select name="state" onchange="this.form.submit()">
            <option value="new"        t:render="state_option">New       </option>
            <option value="on_hold"    t:render="state_option">On Hold   </option>
            <option value="dispatched" t:render="state_option">Dispatched</option>
            <option value="on_scene"   t:render="state_option">On Scene  </option>
            <option value="closed"     t:render="state_option">Closed    </option>
          </select>
        </label>
      </form>

      <form id="incident_priority_form">
        <label id="incident_priority">
          Priority:
          <select name="priority" onchange="this.form.submit()">
            <option value="1" t:render="priority_option">High  </option>
            <option value="3" t:render="priority_option">Normal</option>
            <option value="5" t:render="priority_option">Low   </option>
          </select>
        </label>
      </form>

      <form id="incident_summary_form">
        <label id="incident_summary">
          Summary:
          <input type="text" name="summary" placeholder="Summary..." inputmode="latin-prose" t:render="incident_summary_input" onchange="this.form.submit()" />
        </label>
      </form>

      <form id="incident_rangers_form">
        <label id="incident_rangers">
          Rangers<br />
          <select name="rangers" multiple="" t:render="rangers_options" />
        </label>
      </form>

      <form id="incident_types_form">
        <label id="incident_types">
          Incident Types<br />
          <select name="rangers" multiple="" t:render="types_options" />
        </label>
      </form>

      <form id="incident_location_form">
        <fieldset id="incident_location" class="boxed">
          <legend>Location</legend>
          <label id="incident_location_name">
            Name:
            <input type="text" name="location_name" placeholder="Name of location..." inputmode="latin" t:render="location_name_input" onchange="this.form.submit()" />
          </label>
          <label id="incident_location_address">
            Address:
            <input type="text" name="location_address" placeholder="Address of location..." inputmode="verbatim" t:render="location_address_input" onchange="this.form.submit()" />
          </label>
        </fieldset>
      </form>

      <form id="incident_report_form">
        <fieldset id="incident_report">
          <legend>Incident Report</legend>
          <div id="incident_report_text" t:render="incident_report_text" />
          <textarea id="incident_report_input" name="report_text" autofocus="true" placeholder="Additional report text..." t:render="incident_report_textarea"  onchange="this.form.submit()" />
          <input type="submit" value="Add Entry" />
        </fieldset>
      </form>

    </div>
  </body>
</html>
