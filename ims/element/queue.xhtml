<!DOCTYPE html>
<html xmlns:t="http://twistedmatrix.com/ns/twisted.web.template/0.1" t:render="root">

  <head>
    <div t:render="head_common" />
    <link type="text/css" rel="stylesheet" media="screen"><t:attr name="href"><t:slot name="datatables_css_url" /></t:attr></link>
    <script><t:attr name="src"><t:slot name="datatables_js_url" /></t:attr></script>
  </head>

  <body><div t:render="container">

    <table class="table table-striped table-hover" id="queue_table">
      <thead>
        <tr>
          <th t:render="table_headers" />
        </tr>
      </thead>
      <tbody />
      <tfoot>
        <tr>
          <th t:render="table_headers" />
        </tr>
      </tfoot>
    </table>

    <script>
      var resultColumns = [
        <javascript t:render="results" />
      ]

      //<![CDATA[

      function dataHandler(data) {
          return data;
      };

      $("#queue_table").DataTable({
          "deferRender": true,
          "paging": true,
          "lengthChange": true,
          "lengthMenu": [ [25, 50, 100, -1], ["25", "50", "100", "All"] ],
          "processing": true,
          "scrollX": false, "scrollY": false,
          "ajax": {
              "url": "data",
              "dataSrc": dataHandler,
          },
          "columns": resultColumns,
      });

      $("#result_info").css({"display": "none"});

      //]]>
    </script>

  </div></body>

</html>
